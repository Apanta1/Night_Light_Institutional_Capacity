data <- data %>%
mutate(baseline_nl = rowMeans(select(., sum_2014:sum_2017), na.rm = TRUE),
ln_baseline_nl_km = log(baseline_nl / area_kmsq),
rel_chgnl = log(sum_2021) - log(sum_2017),
ln_popn = log(popn_2021),
high_school_percent = ((popn_highschool + popn_graduate + popn_post_graduate) / popn_2021) * 100,
urban_num = ifelse(unit_type != "Gaunpalika", 1, 0),
gov_coalitiion = ifelse(politicalaffiliation %in% c("CPN-MC", "CPN-UML", "FSFN", "NSP"), 1, 0),
female = ifelse(sex == "Female", 1, 0),
lisa_avg = rowMeans(select(., lisa_20_21, lisa_21_22), na.rm = TRUE))
rlang::last_trace()
rlang::last_trace(drop = FALSE)
print(names(data))
# Calculate new variables
data <- data %>%
mutate(baseline_nl = rowMeans(select(., sum_2014:sum_2017), na.rm = TRUE),
ln_baseline_nl_km = log(baseline_nl / area_kmsq),
rel_chgnl = log(sum_2021) - log(sum_2017),
ln_popn = log(popn_2021),
high_school_percent = ((popn_highschool + popn_graduate + popn_post_graduate) / popn_2021) * 100,
urban_num = ifelse(UNIT_TYPE != "Gaunpalika", 1, 0),
gov_coalitiion = ifelse(`Political Affiliation` %in% c("CPN-MC", "CPN-UML", "FSFN", "NSP"), 1, 0),
female = ifelse(Sex == "Female", 1, 0),
lisa_avg = rowMeans(select(., lisa_20_21, lisa_21_22), na.rm = TRUE))
print(names(data))
#running initial regression
model1 <- lm(rel_chgnl ~ ln_baseline_nl_km, data = data)
model2 <- lm(rel_chgnl ~ ln_baseline_nl_km + lisa_avg, data = data)
model3 <- lm(rel_chgnl ~ ln_baseline_nl_km + lisa_avg + high_school_percent, data = data)
model4 <- lm(rel_chgnl ~ ln_baseline_nl_km + lisa_avg + high_school_percent + ageatelection, data = data)
data <- data %>% rename(`Age at Election` = ageatelection)
data <- data %>% rename(`Age at Election` == ageatelection)
data <- data %>% rename(`Age at Election` == "ageatelection")
rm(list = ls())
setwd("/Users/apanta1/Desktop/Summer Research 2024/Night_Light_Institutional_Capacity/Stata")
# Load necessary libraries
library(readr)
library(dplyr)
library(tidyr)
library(broom)
library(ggplot2)
#load the dataset
data <- read_csv("Local_Gov_Dataset_of_Nepal.csv")
# Drop municipalities without data
data <- data %>% filter(lisa_20_21 != "N/A", lisa_21_22 != "N/A")
# Convert to numeric
data <- data %>%
mutate(lisa_20_21 = as.numeric(lisa_20_21),
lisa_21_22 = as.numeric(lisa_21_22))
# Calculate new variables
data <- data %>%
mutate(baseline_nl = rowMeans(select(., sum_2014:sum_2017), na.rm = TRUE),
ln_baseline_nl_km = log(baseline_nl / area_kmsq),
rel_chgnl = log(sum_2021) - log(sum_2017),
ln_popn = log(popn_2021),
high_school_percent = ((popn_highschool + popn_graduate + popn_post_graduate) / popn_2021) * 100,
urban_num = ifelse(UNIT_TYPE != "Gaunpalika", 1, 0),
gov_coalitiion = ifelse(`Political Affiliation` %in% c("CPN-MC", "CPN-UML", "FSFN", "NSP"), 1, 0),
female = ifelse(Sex == "Female", 1, 0),
lisa_avg = rowMeans(select(., lisa_20_21, lisa_21_22), na.rm = TRUE))
data <- data %>% rename(`Age at Election` == "ageatelection")
rm(list = ls())
setwd("/Users/apanta1/Desktop/Summer Research 2024/Night_Light_Institutional_Capacity/Stata")
# Load necessary libraries
library(readr)
library(dplyr)
library(tidyr)
library(broom)
library(ggplot2)
library(data.table)
install.packages("data.table")
rm(list = ls())
setwd("/Users/apanta1/Desktop/Summer Research 2024/Night_Light_Institutional_Capacity/Stata")
# Load necessary libraries
library(readr)
library(dplyr)
library(tidyr)
library(broom)
library(ggplot2)
library(data.table)
#load the dataset
data <- read_csv("Local_Gov_Dataset_of_Nepal.csv")
# Drop municipalities without data
data <- data %>% filter(lisa_20_21 != "N/A", lisa_21_22 != "N/A")
# Convert to numeric
data <- data %>%
mutate(lisa_20_21 = as.numeric(lisa_20_21),
lisa_21_22 = as.numeric(lisa_21_22))
# Calculate new variables
data <- data %>%
mutate(baseline_nl = rowMeans(select(., sum_2014:sum_2017), na.rm = TRUE),
ln_baseline_nl_km = log(baseline_nl / area_kmsq),
rel_chgnl = log(sum_2021) - log(sum_2017),
ln_popn = log(popn_2021),
high_school_percent = ((popn_highschool + popn_graduate + popn_post_graduate) / popn_2021) * 100,
urban_num = ifelse(UNIT_TYPE != "Gaunpalika", 1, 0),
gov_coalitiion = ifelse(`Political Affiliation` %in% c("CPN-MC", "CPN-UML", "FSFN", "NSP"), 1, 0),
female = ifelse(Sex == "Female", 1, 0),
lisa_avg = rowMeans(select(., lisa_20_21, lisa_21_22), na.rm = TRUE))
setnames(data, "Age at Election", "age at election")
print(data)
setnames(data, "Age at Election", "age_at_election")
rm(list = ls())
setwd("/Users/apanta1/Desktop/Summer Research 2024/Night_Light_Institutional_Capacity/Stata")
# Load necessary libraries
library(readr)
library(dplyr)
library(tidyr)
library(broom)
library(ggplot2)
library(data.table)
#load the dataset
data <- read_csv("Local_Gov_Dataset_of_Nepal.csv")
# Drop municipalities without data
data <- data %>% filter(lisa_20_21 != "N/A", lisa_21_22 != "N/A")
# Convert to numeric
data <- data %>%
mutate(lisa_20_21 = as.numeric(lisa_20_21),
lisa_21_22 = as.numeric(lisa_21_22))
# Calculate new variables
data <- data %>%
mutate(baseline_nl = rowMeans(select(., sum_2014:sum_2017), na.rm = TRUE),
ln_baseline_nl_km = log(baseline_nl / area_kmsq),
rel_chgnl = log(sum_2021) - log(sum_2017),
ln_popn = log(popn_2021),
high_school_percent = ((popn_highschool + popn_graduate + popn_post_graduate) / popn_2021) * 100,
urban_num = ifelse(UNIT_TYPE != "Gaunpalika", 1, 0),
gov_coalitiion = ifelse(`Political Affiliation` %in% c("CPN-MC", "CPN-UML", "FSFN", "NSP"), 1, 0),
female = ifelse(Sex == "Female", 1, 0),
lisa_avg = rowMeans(select(., lisa_20_21, lisa_21_22), na.rm = TRUE))
setnames(data, "Age at Election", "age_at_election")
print(names(data))
#running initial regression
model1 <- lm(rel_chgnl ~ ln_baseline_nl_km, data = data)
model1 <- lm(rel_chgnl ~ ln_baseline_nl_km, data = data)
model2 <- lm(rel_chgnl ~ ln_baseline_nl_km + lisa_avg, data = data)
model3 <- lm(rel_chgnl ~ ln_baseline_nl_km + lisa_avg + high_school_percent, data = data)
model4 <- lm(rel_chgnl ~ ln_baseline_nl_km + lisa_avg + high_school_percent + , data = data)
library(ggplot2)
library(data.table)
#load the dataset
data <- read_csv("Local_Gov_Dataset_of_Nepal.csv")
# Drop municipalities without data
data <- data %>% filter(lisa_20_21 != "N/A", lisa_21_22 != "N/A")
# Convert to numeric
data <- data %>%
mutate(lisa_20_21 = as.numeric(lisa_20_21),
lisa_21_22 = as.numeric(lisa_21_22))
# Calculate new variables
data <- data %>%
mutate(baseline_nl = rowMeans(select(., sum_2014:sum_2017), na.rm = TRUE),
ln_baseline_nl_km = log(baseline_nl / area_kmsq),
rel_chgnl = log(sum_2021) - log(sum_2017),
ln_popn = log(popn_2021),
high_school_percent = ((popn_highschool + popn_graduate + popn_post_graduate) / popn_2021) * 100,
urban_num = ifelse(UNIT_TYPE != "Gaunpalika", 1, 0),
gov_coalitiion = ifelse(`Political Affiliation` %in% c("CPN-MC", "CPN-UML", "FSFN", "NSP"), 1, 0),
female = ifelse(Sex == "Female", 1, 0),
lisa_avg = rowMeans(select(., lisa_20_21, lisa_21_22), na.rm = TRUE))
setnames(data, "Age at Election", "ageatelection")
print(names(data))
#running initial regression
model1 <- lm(rel_chgnl ~ ln_baseline_nl_km, data = data)
model2 <- lm(rel_chgnl ~ ln_baseline_nl_km + lisa_avg, data = data)
model3 <- lm(rel_chgnl ~ ln_baseline_nl_km + lisa_avg + high_school_percent, data = data)
model4 <- lm(rel_chgnl ~ ln_baseline_nl_km + lisa_avg + high_school_percent + ageatelection, data = data)
model5 <- lm(rel_chgnl ~ ln_baseline_nl_km + lisa_avg + high_school_percent + ageatelection + gov_coalitiion, data = data)
model6 <- lm(rel_chgnl ~ ln_baseline_nl_km + lisa_avg + high_school_percent + ageatelection + gov_coalitiion + female, data = data)
model7 <- lm(rel_chgnl ~ ln_baseline_nl_km + lisa_avg + high_school_percent + ageatelection + gov_coalitiion + female + ln_popn, data = data)
model8 <- lm(rel_chgnl ~ ln_baseline_nl_km + lisa_avg + high_school_percent + ageatelection + gov_coalitiion + female + ln_popn + urban_num, data = data)
lm(rel_chgnl ~ ln_baseline_nl_km, data = data)
#running initial regression
model1 <- lm(rel_chgnl ~ ln_baseline_nl_km, data = data)
model2 <- lm(rel_chgnl ~ ln_baseline_nl_km + lisa_avg, data = data)
model3 <- lm(rel_chgnl ~ ln_baseline_nl_km + lisa_avg + high_school_percent, data = data)
model4 <- lm(rel_chgnl ~ ln_baseline_nl_km + lisa_avg + high_school_percent + ageatelection, data = data)
model5 <- lm(rel_chgnl ~ ln_baseline_nl_km + lisa_avg + high_school_percent + ageatelection + gov_coalitiion, data = data)
model6 <- lm(rel_chgnl ~ ln_baseline_nl_km + lisa_avg + high_school_percent + ageatelection + gov_coalitiion + female, data = data)
model7 <- lm(rel_chgnl ~ ln_baseline_nl_km + lisa_avg + high_school_percent + ageatelection + gov_coalitiion + female + ln_popn, data = data)
model8 <- lm(rel_chgnl ~ ln_baseline_nl_km + lisa_avg + high_school_percent + ageatelection + gov_coalitiion + female + ln_popn + urban_num, data = data)
# Load the stargazer library
library(stargazer)
# Save the regression results to a .doc file
stargazer(model1, model2, model3, model4, model5, model6, model7, model8, type = "html", out = "v3_initial_regression.doc")
# Save the regression results to a .doc file
stargazer(model1, model2, model3, model4, model5, model6, model7, model8, type = "html", out = "R_regression_result")
#running initial regression
model1 <- lm(rel_chgnl ~ ln_baseline_nl_km, data = data)
model2 <- lm(rel_chgnl ~ ln_baseline_nl_km + lisa_avg, data = data)
model3 <- lm(rel_chgnl ~ ln_baseline_nl_km + lisa_avg + high_school_percent, data = data)
model4 <- lm(rel_chgnl ~ ln_baseline_nl_km + lisa_avg + high_school_percent + ageatelection, data = data)
model5 <- lm(rel_chgnl ~ ln_baseline_nl_km + lisa_avg + high_school_percent + ageatelection + gov_coalitiion, data = data)
model6 <- lm(rel_chgnl ~ ln_baseline_nl_km + lisa_avg + high_school_percent + ageatelection + gov_coalitiion + female, data = data)
model7 <- lm(rel_chgnl ~ ln_baseline_nl_km + lisa_avg + high_school_percent + ageatelection + gov_coalitiion + female + ln_popn, data = data)
model8 <- lm(rel_chgnl ~ ln_baseline_nl_km + lisa_avg + high_school_percent + ageatelection + gov_coalitiion + female + ln_popn + urban_num, data = data)
# Load the stargazer library
library(stargazer)
# Save the regression results to a .doc file
stargazer(model1, model2, model3, model4, model5, model6, model7, model8, type = "html", out = "R_regression_result.doc")
rm(list = ls())
setwd("/Users/apanta1/Desktop/Summer Research 2024/Night_Light_Institutional_Capacity/Stata")
# Load necessary libraries
library(readr)
library(dplyr)
library(tidyr)
library(broom)
library(ggplot2)
library(data.table)
#load the dataset
data <- read_csv("Local_Gov_Dataset_of_Nepal.csv")
# Drop municipalities without data
data <- data %>% filter(lisa_20_21 != "N/A", lisa_21_22 != "N/A")
# Convert to numeric
data <- data %>%
mutate(lisa_20_21 = as.numeric(lisa_20_21),
lisa_21_22 = as.numeric(lisa_21_22))
# Calculate new variables
data <- data %>%
mutate(baseline_nl = rowMeans(select(., sum_2014:sum_2017), na.rm = TRUE),
ln_baseline_nl_km = log(baseline_nl / area_kmsq),
rel_chgnl = log(sum_2021) - log(sum_2017),
ln_popn = log(popn_2021),
high_school_percent = ((popn_highschool + popn_graduate + popn_post_graduate) / popn_2021) * 100,
urban_num = ifelse(UNIT_TYPE != "Gaunpalika", 1, 0),
gov_coalitiion = ifelse(`Political Affiliation` %in% c("CPN-MC", "CPN-UML", "FSFN", "NSP"), 1, 0),
female = ifelse(Sex == "Female", 1, 0),
lisa_avg = rowMeans(select(., lisa_20_21, lisa_21_22), na.rm = TRUE))
setnames(data, "Age at Election", "ageatelection")
print(names(data))
lm(rel_chgnl ~ ln_baseline_nl_km, data = data)
#running initial regression
model1 <- lm(rel_chgnl ~ ln_baseline_nl_km, data = data)
model2 <- lm(rel_chgnl ~ ln_baseline_nl_km + lisa_avg, data = data)
model3 <- lm(rel_chgnl ~ ln_baseline_nl_km + lisa_avg + high_school_percent, data = data)
model4 <- lm(rel_chgnl ~ ln_baseline_nl_km + lisa_avg + high_school_percent + ageatelection, data = data)
model5 <- lm(rel_chgnl ~ ln_baseline_nl_km + lisa_avg + high_school_percent + ageatelection + gov_coalitiion, data = data)
model6 <- lm(rel_chgnl ~ ln_baseline_nl_km + lisa_avg + high_school_percent + ageatelection + gov_coalitiion + female, data = data)
model7 <- lm(rel_chgnl ~ ln_baseline_nl_km + lisa_avg + high_school_percent + ageatelection + gov_coalitiion + female + ln_popn, data = data)
model8 <- lm(rel_chgnl ~ ln_baseline_nl_km + lisa_avg + high_school_percent + ageatelection + gov_coalitiion + female + ln_popn + urban_num, data = data)
# Load the stargazer library
library(stargazer)
# Save the regression results to a .doc file
stargazer(model1, model2, model3, model4, model5, model6, model7, model8, type = "html", out = "R_regression_result.html")
#running initial regression
model1 <- lm(rel_chgnl ~ ln_baseline_nl_km, data = data)
model2 <- lm(rel_chgnl ~ ln_baseline_nl_km + lisa_avg, data = data)
model3 <- lm(rel_chgnl ~ ln_baseline_nl_km + lisa_avg + high_school_percent, data = data)
model4 <- lm(rel_chgnl ~ ln_baseline_nl_km + lisa_avg + high_school_percent + ageatelection, data = data)
model5 <- lm(rel_chgnl ~ ln_baseline_nl_km + lisa_avg + high_school_percent + ageatelection + gov_coalitiion, data = data)
model6 <- lm(rel_chgnl ~ ln_baseline_nl_km + lisa_avg + high_school_percent + ageatelection + gov_coalitiion + female, data = data)
model7 <- lm(rel_chgnl ~ ln_baseline_nl_km + lisa_avg + high_school_percent + ageatelection + gov_coalitiion + female + ln_popn, data = data)
model8 <- lm(rel_chgnl ~ ln_baseline_nl_km + lisa_avg + high_school_percent + ageatelection + gov_coalitiion + female + ln_popn + urban_num, data = data)
# Print summaries to check models
print(summary(model1))
print(summary(model2))
print(summary(model3))
print(summary(model4))
print(summary(model5))
print(summary(model6))
print(summary(model7))
print(summary(model8))
library(stargazer)
# Save the regression results to a .doc file
stargazer(model1, model2, model3, model4, model5, model6, model7, model8, type = "html", out = "R_regression_result.html")
rm(list = ls())
setwd("/Users/apanta1/Desktop/Summer Research 2024/Night_Light_Institutional_Capacity/Stata")
# Load necessary libraries
library(readr)
library(dplyr)
library(tidyr)
library(broom)
library(ggplot2)
library(data.table)
#load the dataset
data <- read_csv("Local_Gov_Dataset_of_Nepal.csv")
# Drop municipalities without data
data <- data %>% filter(lisa_20_21 != "N/A", lisa_21_22 != "N/A")
# Convert to numeric
data <- data %>%
mutate(lisa_20_21 = as.numeric(lisa_20_21),
lisa_21_22 = as.numeric(lisa_21_22))
# Calculate new variables
data <- data %>%
mutate(baseline_nl = rowMeans(select(., sum_2014:sum_2017), na.rm = TRUE),
ln_baseline_nl_km = log(baseline_nl / area_kmsq),
rel_chgnl = log(sum_2021) - log(sum_2017),
ln_popn = log(popn_2021),
high_school_percent = ((popn_highschool + popn_graduate + popn_post_graduate) / popn_2021) * 100,
urban_num = ifelse(UNIT_TYPE != "Gaunpalika", 1, 0),
gov_coalitiion = ifelse(`Political Affiliation` %in% c("CPN-MC", "CPN-UML", "FSFN", "NSP"), 1, 0),
female = ifelse(Sex == "Female", 1, 0),
lisa_avg = rowMeans(select(., lisa_20_21, lisa_21_22), na.rm = TRUE))
setnames(data, "Age at Election", "ageatelection")
print(names(data))
lm(rel_chgnl ~ ln_baseline_nl_km, data = data)
#running initial regression
model1 <- lm(rel_chgnl ~ ln_baseline_nl_km, data = data)
model2 <- lm(rel_chgnl ~ ln_baseline_nl_km + lisa_avg, data = data)
model3 <- lm(rel_chgnl ~ ln_baseline_nl_km + lisa_avg + high_school_percent, data = data)
model4 <- lm(rel_chgnl ~ ln_baseline_nl_km + lisa_avg + high_school_percent + ageatelection, data = data)
model5 <- lm(rel_chgnl ~ ln_baseline_nl_km + lisa_avg + high_school_percent + ageatelection + gov_coalitiion, data = data)
model6 <- lm(rel_chgnl ~ ln_baseline_nl_km + lisa_avg + high_school_percent + ageatelection + gov_coalitiion + female, data = data)
model7 <- lm(rel_chgnl ~ ln_baseline_nl_km + lisa_avg + high_school_percent + ageatelection + gov_coalitiion + female + ln_popn, data = data)
model8 <- lm(rel_chgnl ~ ln_baseline_nl_km + lisa_avg + high_school_percent + ageatelection + gov_coalitiion + female + ln_popn + urban_num, data = data)
# Print summaries to check models
print(summary(model1))
print(summary(model2))
print(summary(model3))
print(summary(model4))
print(summary(model5))
print(summary(model6))
print(summary(model7))
print(summary(model8))
# Load the stargazer library
library(stargazer)
# Save the regression results to a .doc file
stargazer(model1, model2, model3, model4, model5, model6, model7, model8, type = "text", out = "R_regression_result.text")
stargazer(model1, model2, model3, type = "text")
stargazer(model1, model2, model3, model4, model5, model6, model7, model8, type = "text")
stargazer(model1, model2, model3, model4, model5, model6, model7, type = "text")
stargazer(model1, model2, model3, model4, model5, model6, model7, model8, type = "text")
stargazer(model1, model2, model3, model4, model5, model6, model7, type = "text")
stargazer(model1, model2, model3, model4, model5, model6, model7, type = "text", out = "R_regression_result.text")
# Save the regression results to a .doc file
stargazer(model1, model2, model3, model4, model5, model6, model7, type = "html", out = "R_regression_result.doc")
stargazer(model1, model2, model3, model4, model5, model6, model7, model8 type = "html", out = "R_regression_result.doc")
stargazer(model1, model2, model3, model4, model5, model6, model7, model8, type = "html", out = "R_regression_result.doc")
ggplot(data, aes(x = province, y = rel_chgnl)) + geom_boxplot()
print(names(data))
ggplot(data, aes(x = PROVINCE, y = rel_chgnl)) + geom_boxplot()
ggplot(data, aes(x = PROVINCE, y = rel_chgnl))
ggplot(data, aes(x = lisa_avg, y = rel_chgnl)) +
geom_point() +
geom_smooth(method = "lm")
ggplot(data, aes(x = lisa_avg, y = rel_chgnl)) +
geom_point(color = gov_coalitiion, size = high_school_percent) +
geom_smooth(method = "lm", se = F) +
theme_minimal()
rm(list = ls())
setwd("/Users/apanta1/Desktop/Summer Research 2024/Night_Light_Institutional_Capacity/Stata")
# Load necessary libraries
library(readr)
library(dplyr)
library(tidyr)
library(broom)
library(ggplot2)
library(data.table)
#load the dataset
data <- read_csv("Local_Gov_Dataset_of_Nepal.csv")
# Drop municipalities without data
data <- data %>% filter(lisa_20_21 != "N/A", lisa_21_22 != "N/A")
# Convert to numeric
data <- data %>%
mutate(lisa_20_21 = as.numeric(lisa_20_21),
lisa_21_22 = as.numeric(lisa_21_22))
# Calculate new variables
data <- data %>%
mutate(baseline_nl = rowMeans(select(., sum_2014:sum_2017), na.rm = TRUE),
ln_baseline_nl_km = log(baseline_nl / area_kmsq),
rel_chgnl = log(sum_2021) - log(sum_2017),
ln_popn = log(popn_2021),
high_school_percent = ((popn_highschool + popn_graduate + popn_post_graduate) / popn_2021) * 100,
urban_num = ifelse(UNIT_TYPE != "Gaunpalika", 1, 0),
gov_coalitiion = ifelse(`Political Affiliation` %in% c("CPN-MC", "CPN-UML", "FSFN", "NSP"), 1, 0),
female = ifelse(Sex == "Female", 1, 0),
lisa_avg = rowMeans(select(., lisa_20_21, lisa_21_22), na.rm = TRUE))
setnames(data, "Age at Election", "ageatelection")
print(names(data))
lm(rel_chgnl ~ ln_baseline_nl_km, data = data)
#running initial regression
model1 <- lm(rel_chgnl ~ ln_baseline_nl_km, data = data)
model2 <- lm(rel_chgnl ~ ln_baseline_nl_km + lisa_avg, data = data)
model3 <- lm(rel_chgnl ~ ln_baseline_nl_km + lisa_avg + high_school_percent, data = data)
model4 <- lm(rel_chgnl ~ ln_baseline_nl_km + lisa_avg + high_school_percent + ageatelection, data = data)
model5 <- lm(rel_chgnl ~ ln_baseline_nl_km + lisa_avg + high_school_percent + ageatelection + gov_coalitiion, data = data)
model6 <- lm(rel_chgnl ~ ln_baseline_nl_km + lisa_avg + high_school_percent + ageatelection + gov_coalitiion + female, data = data)
model7 <- lm(rel_chgnl ~ ln_baseline_nl_km + lisa_avg + high_school_percent + ageatelection + gov_coalitiion + female + ln_popn, data = data)
model8 <- lm(rel_chgnl ~ ln_baseline_nl_km + lisa_avg + high_school_percent + ageatelection + gov_coalitiion + female + ln_popn + urban_num, data = data)
print(summary(model8))
# Load the stargazer library
library(stargazer)
# Save the regression results to a .doc file
stargazer(model1, model2, model3, model4, model5, model6, model7, type = "html", out = "R_regression_result.doc")
ggplot(data, aes(x = PROVINCE, y = rel_chgnl))
ggplot(data, aes(x = lisa_avg, y = rel_chgnl)) +
geom_point(color = gov_coalitiion, size = high_school_percent) +
geom_smooth(method = "lm", se = F) +
theme_minimal()
ggplot(data, aes(x = lisa_avg, y = rel_chgnl)) +
geom_point (size = high_school_percent) +
geom_smooth(method = "lm", se = F) +
theme_minimal()
ggplot(data, aes(PROVINCE,rel_chgnl))
ggplot(data, aes(PROVINCE,rel_chgnl)) + geom_point(aes(rel_chgnl))
ggplot(data, aes(lisa_avg,rel_chgnl)) + geom_point(aes(rel_chgnl))
ggplot(data, aes(lisa_avg,rel_chgnl)) + geom_point(aes(rel_chgnl))
ggplot(data, aes(lisa_avg,rel_chgnl)) + geom_point()
ggplot(data, aes(lisa_avg,rel_chgnl)) + geom_point() + geom_smooth()
ggplot(data, aes(lisa_avg,rel_chgnl)) + geom_point(data, aes(color = gov_coalitiion, size = high_school_percent )) + geom_smooth()
ggplot(data, aes(lisa_avg,rel_chgnl))+
geom_point(data, aes(color = gov_coalitiion, size = high_school_percent))
ggplot(data, aes(lisa_avg,rel_chgnl))+
geom_point(data, aes(color = gov_coalitiion, size = high_school_percent))
data <- data %>%
dataggplot(aes(lisa_avg,rel_chgnl))+
geom_point(aes(color = gov_coalitiion, size = high_school_percent))
data <- data %>%
ggplot(aes(lisa_avg,rel_chgnl))+
geom_point(aes(color = gov_coalitiion, size = high_school_percent))
+ geom_smooth()
data <- data %>%
ggplot(aes(lisa_avg,rel_chgnl)) +
geom_point(aes(color = gov_coalitiion, size = high_school_percent)) +
geom_smooth()
ggplot(data, aes(lisa_avg,rel_chgnl)) + geom_point( data, aes(color = gov_coalitiion, size = high_school_percent)) +
geom_smooth()
ggplot(data, aes(lisa_avg,rel_chgnl)) + geom_point( data, aes(size = high_school_percent)) +
geom_smooth()
ggplot(data, aes(lisa_avg,rel_chgnl)) + geom_point() + geom_smooth()
rm(list = ls())
setwd("/Users/apanta1/Desktop/Summer Research 2024/Night_Light_Institutional_Capacity/Stata")
# Load necessary libraries
library(tidyverse)
install.packages(tidyverse)
install.packages(tidyverse)
install.packages("tidyverse")
install.packages("tidyverse")
setwd("/Users/apanta1/Desktop/Summer Research 2024/Night_Light_Institutional_Capacity/Stata")
# Load necessary libraries
library(tidyverse)
library(readr)
library(dplyr)
library(tidyr)
library(broom)
library(ggplot2)
library(data.table)
#load the dataset
data <- read_csv("Local_Gov_Dataset_of_Nepal.csv")
# Drop municipalities without data
data <- data %>% filter(lisa_20_21 != "N/A", lisa_21_22 != "N/A")
# Convert to numeric
data <- data %>%
mutate(lisa_20_21 = as.numeric(lisa_20_21),
lisa_21_22 = as.numeric(lisa_21_22))
# Calculate new variables
data <- data %>%
mutate(baseline_nl = rowMeans(select(., sum_2014:sum_2017), na.rm = TRUE),
ln_baseline_nl_km = log(baseline_nl / area_kmsq),
rel_chgnl = log(sum_2021) - log(sum_2017),
ln_popn = log(popn_2021),
high_school_percent = ((popn_highschool + popn_graduate + popn_post_graduate) / popn_2021) * 100,
urban_num = ifelse(UNIT_TYPE != "Gaunpalika", 1, 0),
gov_coalitiion = ifelse(`Political Affiliation` %in% c("CPN-MC", "CPN-UML", "FSFN", "NSP"), 1, 0),
female = ifelse(Sex == "Female", 1, 0),
lisa_avg = rowMeans(select(., lisa_20_21, lisa_21_22), na.rm = TRUE))
setnames(data, "Age at Election", "ageatelection")
print(names(data))
lm(rel_chgnl ~ ln_baseline_nl_km, data = data)
#running initial regression
model1 <- lm(rel_chgnl ~ ln_baseline_nl_km, data = data)
model2 <- lm(rel_chgnl ~ ln_baseline_nl_km + lisa_avg, data = data)
model3 <- lm(rel_chgnl ~ ln_baseline_nl_km + lisa_avg + high_school_percent, data = data)
model4 <- lm(rel_chgnl ~ ln_baseline_nl_km + lisa_avg + high_school_percent + ageatelection, data = data)
model5 <- lm(rel_chgnl ~ ln_baseline_nl_km + lisa_avg + high_school_percent + ageatelection + gov_coalitiion, data = data)
model6 <- lm(rel_chgnl ~ ln_baseline_nl_km + lisa_avg + high_school_percent + ageatelection + gov_coalitiion + female, data = data)
model7 <- lm(rel_chgnl ~ ln_baseline_nl_km + lisa_avg + high_school_percent + ageatelection + gov_coalitiion + female + ln_popn, data = data)
model8 <- lm(rel_chgnl ~ ln_baseline_nl_km + lisa_avg + high_school_percent + ageatelection + gov_coalitiion + female + ln_popn + urban_num, data = data)
print(summary(model8))
# Load the stargazer library
library(stargazer)
# Save the regression results to a .doc file
stargazer(model1, model2, model3, model4, model5, model6, model7, type = "html", out = "R_regression_result.doc")
ggplot(data, aes(lisa_avg,rel_chgnl)) + geom_point() + geom_smooth()
install.packages("tidyverse")
ggplot(data, aes(lisa_avg,rel_chgnl)) + geom_point() + geom_smooth()
ggplot(data, aes(cop_cor_21_22,rel_chgnl)) + geom_point() + geom_smooth()
ggplot(data, aes(high_school_percent,rel_chgnl)) + geom_point() + geom_smooth()
ggplot(data, aes(cop_cor_20_21,rel_chgnl)) + geom_point() + geom_smooth()
ggplot(data, aes(gov_coalitiion,cop_cor_20_21)) + geom_point() + geom_smooth()
ggplot(data, aes(cop_cor_20_21, rel_chgnl)) + geom_point()
ggplot(data, aes(cop_cor_20_21, rel_chgnl)) + geom_point() + geom_smooth() + theme_minimal()
ggplot(data, aes(cop_cor_20_21, rel_chgnl)) + geom_point(aes(color = gov_coalitiion, size = high_school_percent)) + geom_smooth() + theme_minimal()
ggplot(data, aes(cop_cor_20_21, rel_chgnl)) +
geom_point(aes(color = gov_coalitiion, size = high_school_percent)) +
geom_smooth() +
labs( x = "cooperation and coordination score",
y = "relative change in nightlight")+
theme_minimal()
ggplot(data, aes(cop_cor_20_21, rel_chgnl)) +
geom_point(aes(color = gov_coalitiion, size = env_protec_20_21)) +
geom_smooth() +
labs( x = "cooperation and coordination score",
y = "relative change in nightlight")+
theme_minimal()
ggplot(data, aes(cop_cor_20_21, rel_chgnl)) +
geom_point(aes(color = gov_coalitiion)) +
geom_smooth() +
labs( x = "cooperation and coordination score",
y = "relative change in nightlight")+
theme_minimal()
ggplot(data, aes(ageatelection, cop_cor_20_21)) + geom_point() +
geom_smooth() + theme_minimal()
model11 <- lm (cop_cor_20_21 ~ ageatelection, data = data)
print(summary(model11))
ggplot(data, aes(ageatelection, cop_cor_21_22)) + geom_point() +
geom_smooth() + theme_minimal()
ggplot(data, aes(cop_cor_20_21, rel_chgnl)) +
geom_point(aes(color = gov_coalitiion)) +
geom_smooth() +
labs( x = "cooperation and coordination score",
y = "relative change in nightlight")+
theme_minimal()
